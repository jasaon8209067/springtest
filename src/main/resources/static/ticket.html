<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>購票結帳目標頁面</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* === 全域樣式 === */
        body {
            font-family: "Noto Sans TC", Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f8f8f8;
        }

        .container {
            max-width: 960px;
            margin: 40px auto;
            padding: 20px;
            background: #fff;
            border: 2px solid #ccc;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            margin-bottom: 25px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 12px;
            text-align: center;
        }

        th {
            background: #f0f0f0;
        }

        select {
            width: 80px;
            padding: 4px;
            border-radius: 5px;
            border: 1px solid #aaa;
        }

        .rightbox {
            float: right;
            border: 2px solid #ccc;
            border-radius: 10px;
            padding: 15px;
            width: 200px;
            background: #fafafa;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .btn {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
        }

        .btn:hover {
            background: #3b7acc;
        }

        #message {
            margin-top: 20px;
            color: green;
            font-weight: bold;
            text-align: center;
        }

        /* === 響應式設計 === */
        @media (max-width: 768px) {
            .rightbox {
                float: none;
                width: 100%;
                margin-top: 20px;
            }

            table,
            th,
            td {
                font-size: 14px;
            }

            select {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            h2 {
                font-size: 18px;
            }

            .container {
                padding: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>選擇張數 > 付款 > 訂購完成</h2>

        <table>
            <tr>
                <th>票種</th>
                <th>數量張數</th>
                <th>票價</th>
                <th>備註</th>
            </tr>
            <tr>
                <td>兒童票</td>
                <td>
                    <select id="childQty">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                    </select>
                </td>
                <td>150</td>
                <td>12歲以下才能購買</td>
            </tr>
            <tr>
                <td>成人票</td>
                <td>
                    <select id="adultQty">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                    </select>
                </td>
                <td>300</td>
                <td></td>
            </tr>
            <tr>
                <td>敬老票</td>
                <td>
                    <select id="seniorQty">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                    </select>
                </td>
                <td>100</td>
                <td>須年滿65歲以上才能購買</td>
            </tr>
        </table>

        <div class="rightbox">
            <div>小計 <span id="subtotal">NT$0</span></div>
            <div>服務費 <span id="fee">NT$0</span></div>
            <hr>
            <div><strong>總計 <span id="total">NT$0</span></strong></div>
            <div style="margin-top:10px"><button class="btn" id="checkoutBtn">前往結帳</button></div>
        </div>

        <div style="clear:both"></div>
        <div id="message"></div>
    </div>

    <script>
        const prices = { child: 150, adult: 300, senior: 100 };
        // const fee = (child.value + adult.value + senior.value) * 0.10;

        function calc() {
            const c = Number(document.getElementById('childQty').value) || 0;
            const a = Number(document.getElementById('adultQty').value) || 0;
            const s = Number(document.getElementById('seniorQty').value) || 0;
            const subtotal = c * prices.child + a * prices.adult + s * prices.senior;
            const fee = subtotal * 0.10;
            document.getElementById('subtotal').innerText = 'NT$' + subtotal;
            document.getElementById('fee').innerText = 'NT$' + fee;
            document.getElementById('total').innerText = 'NT$' + (subtotal + fee);
        }

        document.getElementById('childQty').addEventListener('change', calc);
        document.getElementById('adultQty').addEventListener('change', calc);
        document.getElementById('seniorQty').addEventListener('change', calc);

        document.getElementById('checkoutBtn').addEventListener('click', () => {
            document.getElementById('message').innerText = '已保留座位，請在15分鐘內完成付款（模擬示範）';
        });

        calc();
    </script>
</body>

</html>